!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.frapp={})}(this,function(n){"use strict";function e(n,e){for(var t,r=[],o=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(;r.length;)if(Array.isArray(t=r.pop()))for(i=t.length;i--;)r.push(t[i]);else null==t||!0===t||!1===t||o.push("number"==typeof t?t+"":t);return"string"==typeof n?{type:n,props:e||{},children:o}:n(e||{},o)}function t(n,e,t){for(var r,o=f(n,n.children[0],e,t);r=v.pop();r());return o}function r(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function o(n){return n&&n.props?n.props.key:null}function i(n,e,t,o){if("key"===e);else if("style"===e)for(var i in r(o,t=t||{}))n[e][i]=null!=t[i]?t[i]:"";else{var u=null==t||!1===t;if(e in n)try{n[e]=null==t?"":t}catch(n){}else u||"function"==typeof t||n.setAttribute(e,!0===t?"":t);u&&n.removeAttribute(e)}}function u(n,e){if("string"==typeof n)t=document.createTextNode(n);else{var t=(e=e||"svg"===n.type)?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type);n.props.oncreate&&v.push(function(){n.props.oncreate(t)});for(r=0;r<n.children.length;r++)t.appendChild(u(n.children[r],e));for(var r in n.props)i(t,r,n.props[r])}return t}function a(n,e,t){if(t=e.props){for(var r=0;r<e.children.length;r++)a(n.childNodes[r],e.children[r]);t.ondestroy&&t.ondestroy(n)}return n}function c(n,e,t){function r(){n.removeChild(a(e,t))}t.props&&t.props.onremove?t.props.onremove(e,r):r()}function f(n,e,t,a,l,p){if(null==t)e=n.insertBefore(u(a,l),e);else if(null!=a.type&&a.type===t.type){!function(n,e,t){for(var o in r(e,t)){var u="value"===o||"checked"===o?n[o]:e[o];t[o]!==u&&i(n,o,t[o],u)}t.onupdate&&v.push(function(){t.onupdate(n,e)})}(e,t.props,a.props),l=l||"svg"===a.type;for(var s=a.children.length,h=t.children.length,y={},d=[],g={},m=0;m<h;m++){w=d[m]=e.childNodes[m];null!=(E=o(O=t.children[m]))&&(y[E]=[w,O])}for(var m=0,b=0;b<s;){var w=d[m],O=t.children[m],A=a.children[b];if(g[E=o(O)])m++;else{var j=o(A),k=y[j]||[];null==j?(null==E&&(f(e,w,O,A,l),b++),m++):(E===j?(f(e,k[0],k[1],A,l),m++):k[0]?(e.insertBefore(k[0],w),f(e,k[0],k[1],A,l)):f(e,w,null,A,l),b++,g[j]=A)}}for(;m<h;){var E=o(O=t.children[m]);null==E&&c(e,d[m],O),m++}for(var m in y){var x=(k=y[m])[1];g[x.props.key]||c(e,k[0],x)}}else e&&a!==e.nodeValue&&("string"==typeof a&&"string"==typeof t?e.nodeValue=a:(e=n.insertBefore(u(a,l),p=e),c(n,p,t)));return e}function l(n,e){e="string"==typeof e?e.split("."):e;for(var t=n,r=0;r<e.length;r++)t=t?t[e[r]]:t;return t}function p(n,e,t){return 0===(e="string"==typeof e?e.split("."):e).length?t:h(Array.isArray(n)?[]:{},n,(r={},r[e[0]]=e.length>1?p(n[e[0]]||{},e.slice(1),t):t,r));var r}function s(n,e,t){return p(n,e,h(Array.isArray(t)?[]:{},l(n,e),t))}function h(n,e,t){for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function y(n){return n&&"object"==typeof n&&!Array.isArray(n)}function d(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&(t[r[o]]=n[r[o]]);return t}var v=[],g=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},m=[],b=function(n){return n.substring(n.startsWith("/")?1:0,n.length-(n.endsWith("/")?1:0))},w=function(n,e,t){var r={};if(n===e)return{location:n,path:e,params:r};var o=b(n).split("/"),i=b(e).split("/");if(i.length>o.length||t&&i.length<o.length)return null;for(var u=0;u<i.length;u++){var a=i[u],c=o[u];if(a.startsWith(":"))r[a.substring(1)]=c;else if("*"!==a&&a!==c)return null}return{location:n,path:e,params:r}},O=function(n){history&&history.pushState&&(history.pushState(null,null,n),m.forEach(function(n){return n()}))};n.frapp=function(n,r){function o(n,e){function t(n){return n&&(n=o(n,e),v=s(v,e,n),a()),n}var r={},u=l(v,e);return Object.keys(n).forEach(function(a){if("function"==typeof n[a]){var c=n[a].__UNWIRED?n[a].__UNWIRED:n[a];r[a]=function(){var n=c(l(v,e),t);return"function"==typeof n&&(n=n.apply(null,arguments)),n},r[a].__UNWIRED=c,u&&y(u[a])&&i(u[a])}else y(n[a])?r[a]=o(n[a],e.concat(a)):(r[a]=n[a],u&&y(u[a])&&i(u[a]))}),u||"function"!=typeof r.onWire||d.push(r.onWire),r}function i(n){n.onRemove&&d.push(n.onRemove),Object.keys(n).forEach(function(e){y(n[e])&&i(n[e])})}function u(n,t){return n&&e(n.tagName.toLowerCase(),{},t.call(n.childNodes,function(n){return 3===n.nodeType?n.nodeValue:u(n,t)}))}function a(){for(var n;n=d.shift();)n();h||(h=!h,setTimeout(c))}function c(){h=!h;var n=v.View?v.View():null;n&&!h&&(t(f,p,n),p=n)}var f=r||document.body,p=u(f.children[0],[].map),h=!1,d=[],v=o(n,[]);return a(),{app:function(){return v}}},n.isVNode=function(n){return n&&"string"==typeof n.type&&"object"==typeof n.props&&Array.isArray(n.children)},n.h=e,n.get=l,n.set=p,n.merge=s,n.router=function(){var n=null;return{location:window.location.pathname,updateLocation:function(n,e){var t=window.location.pathname;n.location!==t&&e({location:t})},onWire:function(e,t){n=function(n){e.updateLocation()},addEventListener("popstate",n),m.push(e.updateLocation)},onRemove:function(e,t){removeEventListener("popstate",n);var r=m.indexOf(e.updateLocation);m.splice(r,1)}}},n.Route=function(n){var e=n,t=e.path,r=e.exact,o=e.View,i=d(e,["path","exact","View"]),u=w(location.pathname,t,r);return u?o(g({},i,u)):null},n.Routes=function(n){var e=n,t=e.routes,r=d(e,["routes"]);return t.reduce(function(n,e){if(n)return n;var t=w(location.pathname,e.path,e.exact);return t?e.View(g({},r,t)):null},null)},n.replaceState=function(n){history&&history.replaceState&&(history.replaceState(null,null,n),m.forEach(function(n){return n()}))},n.pushState=O,n.back=function(){history&&history.back&&history.back()},n.Link=function(n,t){return n.onclick=function(e){e.preventDefault(),O(n.href)},e("a",n,t)},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=frapp.min.js.map
